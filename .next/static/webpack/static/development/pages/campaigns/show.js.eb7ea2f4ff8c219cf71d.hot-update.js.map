{"version":3,"file":"static/webpack/static\\development\\pages\\campaigns\\show.js.eb7ea2f4ff8c219cf71d.hot-update.js","sources":["webpack:///./pages/campaigns/show.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Card, Grid, Button } from 'semantic-ui-react';\r\nimport web3JS from '../../ethereum/web3';\r\nimport ContributeForm from '../../components/ContributeForm';\r\nimport { Link } from '../../routes'\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Layout from '../../components/layout.js';\r\nimport campaignJS from '../../ethereum/campaing.js';\r\n\r\nlet web3;\r\n\r\nclass CampaignShow extends Component {\r\n    static async getInitialProps(props) {\r\n        const address = props.query.address;\r\n        const campaign = await campaignJS.campaignInit(address);\r\n        const summary = await campaign.methods.getSummary().call();\r\n        web3 = await web3JS.web3Init();\r\n        \r\n        return {\r\n            address,\r\n            minimumContribution: summary[0].toNumber(),\r\n            balance: web3.utils.fromWei((summary[1].toString()), 'ether'),\r\n            requestsCount: summary[2].toNumber(),\r\n            approversCount: summary[3].toNumber(),\r\n            manager: summary[4]\r\n        };\r\n    }\r\n\r\n    renderCampaigns() {\r\n\r\n        const {\r\n            minimumContribution,\r\n            balance,\r\n            requestsCount,\r\n            approversCount,\r\n            manager\r\n        } = this.props;\r\n\r\n        const items = [\r\n            {\r\n                header: manager,\r\n                meta: 'Address of the manager',\r\n                description: 'The manager created this campaign and can create requests to withdraw the funds',\r\n                style: { overflowWrap: 'break-word' }\r\n            },\r\n            {\r\n                header: minimumContribution,\r\n                meta: 'Minimum contribution (WEI)',\r\n                description: 'You must contibute at list this much wei to becamoe a contributer',\r\n            },\r\n            {\r\n                header: requestsCount,\r\n                meta: 'Number of Requests',\r\n                description: 'A request for fund withdrawal from the contract of this campaign',\r\n            },\r\n            {\r\n\r\n                //header: new web3Inst.utils.fromWei(balance),\r\n                header: balance,\r\n                meta: 'Campaign balance (ether)',\r\n                description: 'Remaing balance of this campaign',\r\n            },\r\n            {\r\n                header: approversCount,\r\n                meta: 'Number of approvers',\r\n                description: 'Number of contributers who donates the this campaign',\r\n\r\n            }\r\n        ]\r\n        return <Card.Group items={items} />;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Layout>\r\n                <h3> Campaign Show </h3>\r\n                <Grid>\r\n                    <Grid.Row>\r\n                        <Grid.Column width={10}>\r\n                            {this.renderCampaigns()}\r\n\r\n                        </Grid.Column>\r\n                        <Grid.Column width={6}>\r\n                            <ContributeForm address={this.props.address} />\r\n                        </Grid.Column>\r\n                    </Grid.Row>\r\n                    <Grid.Row>\r\n                        <Grid.Column>\r\n                            <Link route={`/campaigns/${this.props.address}/requests`}>\r\n                                <a>\r\n                                    <Button primary>\r\n                                        View Requests\r\n                                    </Button>\r\n                                </a>\r\n                            </Link>\r\n                        </Grid.Column>\r\n                    </Grid.Row>\r\n                </Grid>\r\n            </Layout>\r\n        );\r\n    }\r\n}\r\n\r\nCampaignShow.propTypes = {\r\n    address: PropTypes.string.isRequired,\r\n    minimumContribution: PropTypes.number,\r\n    approversCount: PropTypes.number,\r\n    requestsCount: PropTypes.number,\r\n    manager: PropTypes.string,\r\n    balance: PropTypes.string,\r\n}\r\nexport default CampaignShow;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;AAiBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAJA;AAOA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAOA;AACA;AACA;AACA;AALA;AAQA;AACA;AACA;AAHA;AAOA;AAAA;AAAA;AACA;;;AAEA;AACA;AAKA;AAAA;AAIA;AAAA;AACA;AAAA;AAKA;AAAA;AAEA;AAAA;AAUA;;;;;;AAxFA;;;;;;AACA;;AACA;AACA;;AADA;;AACA;AACA;;AADA;;AACA;AACA;;AADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;;;;;;;;;;;;;;;;;;AARA;AACA;AA2FA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;;;;A","sourceRoot":""}