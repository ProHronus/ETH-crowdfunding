{"version":3,"file":"static/webpack/static\\development\\pages\\campaigns\\show.js.98d9ba86e7e47ca090c6.hot-update.js","sources":["webpack:///./ethereum/web3.js"],"sourcesContent":["const Web3 = require('web3');\r\nimport {messageStrings} from './messagestrings';\r\n\r\n//import React from 'react';\r\n\r\n\r\nlet web3;\r\nconst desiredNetwork = '4';\r\nlet initCount = 0;\r\nlet errorType;\r\n\r\nasync function web3Init() {\r\n    if (typeof window === 'undefined' || typeof window.ethereum === 'undefined') {\r\n        const provider = new Web3.providers.HttpProvider('https://rinkeby.infura.io/v3/8b15c91a2edb4a25af067d0bbfec716d');\r\n        web3 = new Web3(provider);\r\n        errorType = messageStrings.NOMETAMASK;\r\n        \r\n        return web3;\r\n    } else {\r\n        try {\r\n            await ethereum.enable();\r\n        } catch (error) {\r\n            console.log(error.message);\r\n            if (error.message.includes('User denied')) {\r\n                errorType = messageStrings.AUTHDENIED;\r\n\r\n            }\r\n        }\r\n        web3 = new Web3(window['ethereum']);\r\n        if (ethereum.networkVersion !== desiredNetwork) {\r\n            errorType = messageStrings.WRONGNETWORK;\r\n        }\r\n        console.log('provideType MM', web3.provider);\r\n        return web3;\r\n    }\r\n}\r\n\r\nfunction isError(){\r\n    return errorType;\r\n}\r\n\r\nmodule.exports = {\r\n    web3Init: web3Init,\r\n    isError: isError\r\n};\r\n\r\n\r\n\r\n"],"mappings":";;;;;;;;;;;;;;;;;;AACA;AACA;AAFA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAWA;AACA;AAAA;AACA;AAEA;AACA;AAhBA;AAiBA;AACA;AAAA;AACA;AACA;AACA;AAAA;AArBA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;;;;A","sourceRoot":""}